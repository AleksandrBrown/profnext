(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{79644:function(e,r,t){Promise.resolve().then(t.bind(t,60264)),Promise.resolve().then(t.bind(t,12504)),Promise.resolve().then(t.bind(t,98254)),Promise.resolve().then(t.bind(t,25109)),Promise.resolve().then(t.bind(t,61909)),Promise.resolve().then(t.bind(t,28680)),Promise.resolve().then(t.bind(t,8265)),Promise.resolve().then(t.bind(t,90798)),Promise.resolve().then(t.bind(t,11099)),Promise.resolve().then(t.bind(t,78973)),Promise.resolve().then(t.bind(t,97590)),Promise.resolve().then(t.bind(t,51984)),Promise.resolve().then(t.bind(t,91423)),Promise.resolve().then(t.bind(t,16769)),Promise.resolve().then(t.bind(t,84036)),Promise.resolve().then(t.bind(t,59559)),Promise.resolve().then(t.bind(t,56775)),Promise.resolve().then(t.bind(t,72214)),Promise.resolve().then(t.bind(t,58648)),Promise.resolve().then(t.bind(t,20270)),Promise.resolve().then(t.bind(t,96168)),Promise.resolve().then(t.bind(t,95944)),Promise.resolve().then(t.bind(t,29958)),Promise.resolve().then(t.bind(t,3868)),Promise.resolve().then(t.bind(t,59337)),Promise.resolve().then(t.bind(t,36260)),Promise.resolve().then(t.bind(t,45660)),Promise.resolve().then(t.bind(t,83312)),Promise.resolve().then(t.bind(t,2436)),Promise.resolve().then(t.bind(t,27786)),Promise.resolve().then(t.bind(t,42978)),Promise.resolve().then(t.bind(t,11498)),Promise.resolve().then(t.bind(t,1930)),Promise.resolve().then(t.bind(t,51646)),Promise.resolve().then(t.bind(t,18626)),Promise.resolve().then(t.bind(t,65336)),Promise.resolve().then(t.bind(t,12555)),Promise.resolve().then(t.t.bind(t,38173,23)),Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,92561))},16463:function(e,r,t){"use strict";var i=t(71169);t.o(i,"usePathname")&&t.d(r,{usePathname:function(){return i.usePathname}})},92561:function(e,r,t){"use strict";t.d(r,{default:function(){return f}});var i=t(57437),n=t(16463),s=t(2265);let o=(e,r)=>{for(let t of e){if(t.url===r)return t;let e=o(t.subcategories,r);if(e)return e}return null},l=(e,r)=>{for(let t of e){let e=t.products.find(e=>e.url===r);if(e)return e;let i=l(t.subcategories,r);if(i)return i}return null};async function h(){let e=await fetch("".concat("https://proftradelab.ru/api/","catalog"),{headers:{"X-API-KEY":"aWdcMbi5yMlx4lCBa8RUj"},next:{revalidate:3600}});if(!e.ok)throw Error("Failed to fetch data");return e.json()}var a=t(82058),d=t(31873),m=t(92692),b=t(8284),c=t(77372),v=t(2428),u=t(94675);let P=(e,r)=>{let t=e.split("/").filter(Boolean),i=[{label:"Главная",href:"/"}],n="";return t.forEach((e,t)=>{if("/catalog"===(n+="/".concat(e))){i.push({label:"Каталог",href:"/catalog/"});return}let s="".concat(n,"/"),h=o(r.categories,s),a=l(r.categories,s),d=h?h.title:a?a.title:e;i.push({label:d,href:n})}),i};var f=()=>{let e=(0,n.usePathname)(),[r,t]=(0,s.useState)(null);if((0,s.useEffect)(()=>{(async()=>{try{let e=await h();t(e)}catch(e){console.error("Failed to fetch catalog data:",e)}})()},[]),!r)return(0,i.jsx)("div",{className:"text-white/60",children:"Loading..."});let o=P(e,r);return(0,i.jsx)(a.$,{underline:"hover",variant:"light",maxItems:3,itemsBeforeCollapse:1,itemsAfterCollapse:2,renderEllipsis:e=>{let{items:r,ellipsisIcon:t,separator:n}=e;return(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)(d.F,{classNames:{content:"bg-black py-1 px-1 border border-white/30 !text-white/80",trigger:"bg-white/10 !text-white border border-white/10",backdrop:"!text-white/60 "},children:[(0,i.jsx)(m.S,{children:(0,i.jsx)(b.A,{isIconOnly:!0,className:"h-6 w-6 min-w-6",size:"sm",variant:"flat",children:t})}),(0,i.jsx)(c.a,{"aria-label":"Routes",children:r.map((e,r)=>(0,i.jsx)(v.W,{href:e.href,className:"hover:!bg-white/10 hover:!text-white",children:e.children},r))})]}),n]})},children:o.map((e,r)=>(0,i.jsx)(u.d,{href:e.href,classNames:{item:"text-white/60 last:text-white",separator:"text-white/60"},children:e.label},r))})}}},function(e){e.O(0,[95,432,971,23,744],function(){return e(e.s=79644)}),_N_E=e.O()}]);